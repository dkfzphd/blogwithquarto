{
  "hash": "78e304fbd543deba7e0331255788a5db",
  "result": {
    "markdown": "---\ntitle: \"Draw a Clock Face\"\nauthor: \"Te\"\ndate: \"2022-11-12\"\ncategories: [R, code, ggplot2, life]\n---\n\n\nlibrary in need\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0      ✔ purrr   0.3.5 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.4.1 \n✔ readr   2.1.3      ✔ forcats 0.5.2 \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggrepel)\ntheme_set(theme_minimal())\n```\n:::\n\n\ndata preparation\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#这里理解有点绕弯\n# 1. 从pi/2作为起点是因为正常坐标系和对应的时钟0点位置不同，要旋转pi/2\n# 2.从pi/2顺时针旋转一周应该是 -2 * pi，顺时针意味着负号\n# 3. length.out = 61 这里 从0到60的点一共是 \n#    61个点，点与点之间有60个分化，我们计算的是点坐标，因此要获得这61一个点的坐标位置length.out = 61\n# 4. 同理小时计算的是时间12个分化，计算13个点的坐标length.out = 13\n\ntheta <- seq(pi / 2, -2 * pi + pi / 2 , length.out = 61)\n\nradius <- seq(10, 30, length.out = 60)\nmin_radius <- 30\nhour_radius <- 30\n\nx <- min_radius* cos(theta)\ny <- min_radius * sin(theta)\n\nhour_tick <- seq(pi / 2, -2 * pi + pi / 2, length.out = 13)\n\nhour_x <- hour_radius * cos(hour_tick)\nhour_y <- hour_radius * sin(hour_tick)\n\ndf <- tibble(x, y)\nhour <- tibble(hour_x, hour_y)\n\ncenter <- tibble(x=0,y=0)\n```\n:::\n\n\nplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=hour,aes(hour_x, hour_y)) +\n  geom_point(data=df, aes(x, y),color=\"blue\") +\n  geom_path(data=hour,aes(0.5*hour_x, 0.5*hour_y),color=\"blue\") +\n  geom_point(data=hour,aes(0.5*hour_x, 0.5*hour_y),color=\"blue\") +\n  geom_point(size=8,color=\"red\") +\n # geom_path() +\n  geom_text(data=hour,aes(label = c(12,1:11,\"\"))) +\n  geom_point(data=center,aes(x,y),size=4, color=\"black\")+\n  coord_fixed()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### Online tool\n\n\n<https://www.blocklayer.com/clock-face>\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}